<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Japanese N3 Vocabulary Game</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Mochiy+Pop+One&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            touch-action: manipulation;
        }
        .choice-btn {
            transition: background-color 0.2s, transform 0.1s;
        }
        .choice-btn.selected {
            background-color: #3b82f6; /* blue-500 */
            color: white;
            transform: scale(1.02);
        }
        .choice-btn.correct {
            background-color: #22c55e !important; /* green-500 */
            color: white !important;
        }
        .choice-btn.incorrect {
            background-color: #ef4444 !important; /* red-500 */
            color: white !important;
        }
        .encouragement-popup {
            font-family: 'Mochiy Pop One', sans-serif;
            animation: fadeInOut 2.5s ease-in-out forwards;
        }
        @keyframes fadeInOut {
            0%, 100% { opacity: 0; transform: scale(0.9); }
            10%, 90% { opacity: 1; transform: scale(1); }
        }
    </style>
</head>
<body class="bg-slate-100 text-slate-800 flex items-center justify-center min-h-screen">

    <div id="app" class="w-full max-w-lg mx-auto flex flex-col p-4">
        <header class="mb-4 bg-white p-4 rounded-xl shadow-md">
            <h1 class="text-xl font-bold text-center text-slate-700 mb-3">Vocabulary Practice Stats</h1>
            <div class="grid grid-cols-3 gap-2 text-center">
                <div>
                    <div class="text-sm font-semibold text-slate-500">OVERALL SCORE</div>
                    <div id="overall-score" class="text-2xl font-bold text-teal-500">0%</div>
                </div>
                <div>
                    <div class="text-sm font-semibold text-slate-500">LAST 100</div>
                    <div id="last100-score" class="text-2xl font-bold text-indigo-500">0</div>
                </div>
                <div>
                    <div class="text-sm font-semibold text-slate-500">WORDS MASTERED</div>
                    <div id="mastered-score" class="text-2xl font-bold text-amber-500">0</div>
                </div>
            </div>
        </header>

        <main class="w-full flex-grow bg-white rounded-xl shadow-lg p-6 text-center mb-4">
            <div id="question-container" class="mb-6">
                <div class="text-sm text-slate-500 mb-2">What is the meaning?</div>
                <div class="text-4xl sm:text-5xl font-bold min-h-[60px]" id="question-text-kanji">Loading...</div>
                <div class="text-lg text-slate-600 min-h-[28px]" id="question-text-kana"></div>
            </div>
            <div id="choices-container" class="grid grid-cols-1 sm:grid-cols-2 gap-3">
                </div>
             <div id="game-complete" class="hidden">
                <h2 class="text-2xl font-bold text-green-500">Congratulations! ðŸŽ‰</h2>
                <p class="text-slate-600 mt-2">You have mastered all the words!</p>
            </div>
        </main>

        <footer id="action-buttons" class="grid grid-cols-2 gap-4">
            <button id="check-button" class="w-full py-3 px-4 bg-blue-500 text-white font-bold rounded-lg shadow-md hover:bg-blue-600 transition-colors transform hover:scale-105 disabled:bg-slate-300 disabled:scale-100 disabled:cursor-not-allowed" disabled>Check Answer</button>
            <button id="skip-button" class="w-full py-3 px-4 bg-slate-400 text-white font-bold rounded-lg shadow-md hover:bg-slate-500 transition-colors transform hover:scale-105">Skip</button>
        </footer>
    </div>

    <div id="encouragement-popup" class="encouragement-popup hidden fixed inset-0 flex items-center justify-center pointer-events-none">
        <div class="bg-white p-8 rounded-full shadow-2xl text-3xl text-pink-500">
            <span id="encouragement-text"></span>
        </div>
    </div>

    <script>
        // Data from N3_vocab.md
        const initialVocabularyData = [
            { kanji: 'æ„›æƒ…', kana: 'ã‚ã„ã˜ã‚‡ã†', arti: 'Kasih sayang(rasa)' }, { kanji: 'æ¡æ‰‹', kana: 'ã‚ãã—ã‚…', arti: 'bersalaman' }, { kanji: 'ã‚¢ã‚¯ã‚»ã‚¹', kana: '', arti: 'akses' }, { kanji: 'é›†ã¾ã‚Š', kana: 'ã‚ã¤ã¾ã‚Š', arti: 'perkumpulan' }, { kanji: 'å®›å', kana: 'ã‚ã¦ãª', arti: 'alamat(tujuan)' }, { kanji: 'å¾Œç‰‡ä»˜ã‘', kana: 'ã‚ã¨ã‹ãŸã¥ã‘', arti: 'beres2(setelah)' }, { kanji: 'ã‚¢ãƒ‰ãƒã‚¤ã‚¹', kana: '', arti: 'saran' }, { kanji: 'ç©´', kana: 'ã‚ãª', arti: 'lubang' }, { kanji: 'ä½™ã‚Š', kana: 'ã‚ã¾ã‚Š', arti: 'sisa,berlebih' }, { kanji: 'ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆ', kana: '', arti: 'angket,survei' }, { kanji: 'ã„ãŸãšã‚‰', kana: '', arti: 'nakal' }, { kanji: 'ä¸€éƒ¨', kana: 'ã„ã¡ã¶', arti: 'sebagian' }, { kanji: 'ä¸€çž¬', kana: 'ã„ã£ã—ã‚…ã‚“', arti: 'sejenak,sekilas' }, { kanji: 'é•å', kana: 'ã„ã¯ã‚“', arti: 'pelanggaran' }, { kanji: 'ã‚¤ãƒ™ãƒ³ãƒˆ', kana: '', arti: 'acara,kegiatan' }, { kanji: 'ã‚¤ãƒ¡ãƒ¼ã‚¸', kana: '', arti: 'image,gambaran' }, { kanji: 'å°åˆ·', kana: 'ã„ã‚“ã•ã¤', arti: 'print' }, { kanji: 'å°è±¡', kana: 'ã„ã‚“ã—ã‚‡ã†', arti: 'kesan,berkesan' }, { kanji: 'ã‚¤ãƒ³ã‚¿ãƒ“ãƒ¥ãƒ¼', kana: '', arti: 'wawancara' }, { kanji: 'å½±éŸ¿', kana: 'ãˆã„ãã‚‡ã†', arti: 'efek/pengaruh/dampak' }, { kanji: 'å†…å´', kana: 'ã†ã¡ãŒã‚', arti: 'Bagian dalam' }, { kanji: 'ã‚¨ã‚³', kana: '', arti: 'Ramah lingkungan' }, { kanji: 'å–¶æ¥­', kana: 'ãˆã„ãŽã‚‡ã†', arti: 'broperasi' }, { kanji: 'ã‚¨ãƒãƒ«ã‚®ãƒ¼', kana: '', arti: 'energi' }, { kanji: 'ã‚ªã‚¤ãƒ«', kana: '', arti: 'oil,minyak' }, { kanji: 'ãŠç¥ã„', kana: 'ãŠã„ã‚ã„', arti: 'perayaan' }, { kanji: 'å¿œæ´', kana: 'ãŠã†ãˆã‚“', arti: 'mendukung' }, { kanji: 'å¤§åž‹', kana: 'ãŠãŠãŒãŸ', arti: 'besar' }, { kanji: 'ãŠã—ã‚ƒã¹ã‚Š', kana: '', arti: 'obrolan' }, { kanji: 'è½ã¨ã—ç‰©', kana: 'ãŠã¨ã—ã‚‚ã®', arti: 'Brg hilang/jatuh' }, { kanji: 'æ€ã„å‡º', kana: 'ãŠã‚‚ã„ã§', arti: 'kenangan' }, { kanji: 'é–‹ä¼š', kana: 'ã‹ã„ã‹ã„', arti: 'Pmbukaan prtemuan' }, { kanji: 'è§£æ±º', kana: 'ã‹ã„ã‘ã¤', arti: 'solusi/menyelesaikn' }, { kanji: 'å¤–å‡º', kana: 'ãŒã„ã—ã‚…ã¤', arti: 'Pergi keluar' }, { kanji: 'æ”¹æ­£', kana: 'ã‹ã„ã›ã„', arti: 'revisi/amandemen' }, { kanji: 'è§£èª¬', kana: 'ã‹ã„ã›ã¤', arti: 'penjelasan' }, { kanji: 'å›žè»¢', kana: 'ã‹ã„ã¦ã‚“', arti: 'berputar,memutar/rotasi' }, { kanji: 'æ›¸ç•™', kana: 'ã‹ãã¨ã‚', arti: 'surat trcatat' }, { kanji: 'æ‹¡å¤§', kana: 'ã‹ãã ã„', arti: 'membesarkan(dizoom)' }, { kanji: 'å®¶äº‹', kana: 'ã‹ã˜', arti: 'Pekerjaan rumah' }, { kanji: 'è²¸ã—å‡ºã—', kana: 'ã‹ã—ã ã—', arti: 'peminjaman' }, { kanji: 'æ•°', kana: 'ã‹ãš', arti: 'jumlah' }, { kanji: 'åž‹', kana: 'ã‹ãŸ', arti: 'model,tipe' }, { kanji: 'ç‰‡æ–¹', kana: 'ã‹ãŸã»ã†', arti: 'Salah satu,satu sisi' }, { kanji: 'ã‚«ã‚¿ãƒ­ã‚°', kana: '', arti: 'katalog' }, { kanji: 'ä¾¡å€¤', kana: 'ã‹ã¡', arti: 'nilai' }, { kanji: 'ã‚«ãƒƒãƒˆ', kana: '', arti: 'cut,potong' }, { kanji: 'æ´»å‹•', kana: 'ã‹ã¤ã©ã†', arti: 'aktifitas,aksi' }, { kanji: 'æˆ‘æ…¢', kana: 'ãŒã¾ã‚“', arti: 'sabar,menahan' }, { kanji: 'ç©º', kana: 'ã‹ã‚‰', arti: 'kosong' }, { kanji: 'é©', kana: 'ã‹ã‚', arti: 'kulit' }, { kanji: 'æ­“è¿Ž', kana: 'ã‹ã‚“ã’ã„', arti: 'menyambut' }, { kanji: 'è¦³å…‰', kana: 'ã‹ã‚“ã“ã†', arti: 'berwisata' }, { kanji: 'è¦³å¯Ÿ', kana: 'ã‹ã‚“ã•ã¤', arti: 'pengamatan' }, { kanji: 'æ„Ÿã˜', kana: 'ã‹ã‚“ã˜', arti: 'perasaan,kesan' }, { kanji: 'æ„Ÿè¬', kana: 'ã‹ã‚“ã—ã‚ƒ', arti: 'Berterima kasih' }, { kanji: 'æ„Ÿæƒ…', kana: 'ã‹ã‚“ã˜ã‚‡ã†', arti: 'perasaan,emosi' }, { kanji: 'é–¢å¿ƒ', kana: 'ã‹ã‚“ã—ã‚“', arti: 'minat' }, { kanji: 'æ„Ÿå¿ƒ', kana: 'ã‹ã‚“ã—ã‚“', arti: 'berkesan' }, { kanji: 'å®Œæˆ', kana: 'ã‹ã‚“ã›ã„', arti: 'selesai,lengkap' }, { kanji: 'æ„Ÿæƒ³', kana: 'ã‹ã‚“ãã†', arti: 'kesan,berkesan' }, { kanji: 'æ„Ÿå‹•', kana: 'ã‹ã‚“ã©ã†', arti: 'terharu' }, { kanji: 'ä¹¾æ¯', kana: 'ã‹ã‚“ã±ã„', arti: 'bersulang' }, { kanji: 'ç®¡ç†', kana: 'ã‹ã‚“ã‚Š', arti: 'manajemen' }, { kanji: 'é–¢é€£', kana: 'ã‹ã‚“ã‚Œã‚“', arti: 'hubungan/relasi' }, { kanji: 'æ©Ÿä¼š', kana: 'ãã‹ã„', arti: 'kesempatan' }, { kanji: 'åŠ¹ãã‚', kana: 'ããã‚', arti: 'keefektifan' }, { kanji: 'å¸°å›½', kana: 'ãã“ã', arti: 'Pulang ke negara' }, { kanji: 'è¨˜äº‹', kana: 'ãã˜', arti: 'artikel' }, { kanji: 'æŠ€è¡“', kana: 'ãŽã˜ã‚…ã¤', arti: 'teknologi' }, { kanji: 'æœŸå¾…', kana: 'ããŸã„', arti: 'harapan' }, { kanji: 'å¸°å®…', kana: 'ããŸã', arti: 'Pulang ke rumah' }, { kanji: 'è²´é‡å“', kana: 'ãã¡ã‚‡ã†ã²ã‚“', arti: 'Barang berharga' }, { kanji: 'è¨˜å…¥', kana: 'ãã«ã‚…ã†', arti: 'mengisi' }, { kanji: 'è¨˜å¿µ', kana: 'ãã­ã‚“', arti: 'mengenang' }, { kanji: 'å¸Œæœ›', kana: 'ãã¼ã†', arti: 'berharap/harapan' }, { kanji: 'åŸºæœ¬', kana: 'ãã»ã‚“', arti: 'dasar' }, { kanji: 'ç¾©å‹™', kana: 'ãŽã‚€', arti: 'kewajiban' }, { kanji: 'ç–‘å•', kana: 'ãŽã‚‚ã‚“', arti: 'pertanyaan/ragu(dlm pikiran)' }, { kanji: 'ä¼‘æ†©', kana: 'ãã‚…ã†ã‘ã„', arti: 'istirahat' }, { kanji: 'æ€¥ç”¨', kana: 'ãã‚…ã†ã‚ˆã†', arti: 'Keperluan bisnis/mendesak' }, { kanji: 'è¡Œäº‹', kana: 'ãŽã‚‡ã†ã˜', arti: 'acara/even' }, { kanji: 'ç«¶äº‰', kana: 'ãã‚‡ã†ãã†', arti: 'kompetisi' }, { kanji: 'å…±é€š', kana: 'ãã‚‡ã†ã¤ã†', arti: 'sama/memiliki kesamaan' }, { kanji: 'å”åŠ›', kana: 'ãã‚‡ã†ã‚Šã‚‡ã', arti: 'Kerjasama' }, { kanji: 'è¡Œåˆ—', kana: 'ãŽã‚‡ã†ã‚Œã¤', arti: 'antrian' }, { kanji: 'è¨±å¯', kana: 'ãã‚‡ã‹', arti: 'izin' }, { kanji: 'æ¼æ¥­', kana: 'ãŽã‚‡ãŽã‚‡ã†', arti: 'Industri prikanan' }, { kanji: 'è·é›¢', kana: 'ãã‚‡ã‚Š', arti: 'jarak' }, { kanji: 'è¨˜éŒ²', kana: 'ãã‚ã', arti: 'merekam(di data)' }, { kanji: 'é‡‘åº«', kana: 'ãã‚“ã“', arti: 'brangkas' }, { kanji: 'è¿‘è¦–', kana: 'ãã‚“ã—', arti: 'Rabun jauh' }, { kanji: 'ç·Šå¼µ', kana: 'ãã‚“ã¡ã‚‡ã†', arti: 'gerogi' }, { kanji: 'å…·åˆ', kana: 'ãã‚ã„', arti: 'kondisi' }, { kanji: 'å·¥å¤«', kana: 'ããµã†', arti: 'Mencari cara' }, { kanji: 'åŒºåˆ¥', kana: 'ãã¹ã¤', arti: 'membedakan' }, { kanji: 'ã‚¯ãƒªãƒ¼ãƒ‹ãƒ³ã‚°', kana: '', arti: 'laundry' }, { kanji: 'è‹¦åŠ´', kana: 'ãã‚ã†', arti: 'kesulitan' }, { kanji: 'çµŒå–¶', kana: 'ã‘ã„ãˆã„', arti: 'mengelola' }, { kanji: 'æŽ²ç¤º', kana: 'ã‘ã„ã˜', arti: 'trpajang/memajang' }, { kanji: 'æ™¯è‰²', kana: 'ã‘ã—ã', arti: 'pemandangan' }, { kanji: 'çµæžœ', kana: 'ã‘ã£ã‹', arti: 'hasil' }, { kanji: 'æ±ºå¿ƒ', kana: 'ã‘ã£ã—ã‚“', arti: 'Keputusan bulat' }, { kanji: 'æ¬ å¸­', kana: 'ã‘ã£ã›ã', arti: 'Tdk hadir' }, { kanji: 'æ±ºå®š', kana: 'ã‘ã£ã¦ã„', arti: 'keputusan' }, { kanji: 'æ¬ ç‚¹', kana: 'ã‘ã£ã¦ã‚“', arti: 'kekurangan' }, { kanji: 'çµè«–', kana: 'ã‘ã¤ã‚ã‚“', arti: 'kesimpulan' }, { kanji: 'åˆ¸', kana: 'ã‘ã‚“', arti: 'tiket' }, { kanji: 'ç ”ä¿®', kana: 'ã‘ã‚“ã—ã‚…ã†', arti: 'pelatihan' }, { kanji: 'å»ºè¨­', kana: 'ã‘ã‚“ã›ã¤', arti: 'konstruksi' }, { kanji: 'å»ºç¯‰', kana: 'ã‘ã‚“ã¡ã', arti: 'arsitek' }, { kanji: 'æ¨©åˆ©', kana: 'ã‘ã‚“ã‚Š', arti: 'hak' }, { kanji: 'åŽŸæ–™', kana: 'ã’ã‚“ã‚Šã‚‡ã†', arti: 'Bahan dasar' }, { kanji: 'è¬›æ¼”', kana: 'ã“ã†ãˆã‚“', arti: 'perkuliahan' }, { kanji: 'åŠ¹æžœ', kana: 'ã“ã†ã‹', arti: 'efek(baik)' }, { kanji: 'äº¤æ›', kana: 'ã“ã†ã‹ã‚“', arti: 'bertukar' }, { kanji: 'å·¥æ¥­', kana: 'ã“ã†ãŽã‚‡ã†', arti: 'industri' }, { kanji: 'èˆªç©ºä¾¿', kana: 'ã“ã†ãã†ã³ã‚“', arti: 'Pos udara' }, { kanji: 'åˆè¨ˆ', kana: 'ã”ã†ã‘ã„', arti: 'total' }, { kanji: 'åºƒå‘Š', kana: 'ã“ã†ã“ã', arti: 'iklan' }, { kanji: 'äº¤éš›', kana: 'ã“ã†ã•ã„', arti: 'hubungan' }, { kanji: 'å·¥äº‹', kana: 'ã“ã†ã˜', arti: 'Pngerjaan konstruksi' }, { kanji: 'è¡Œå‹•', kana: 'ã“ã†ã©ã†', arti: 'brbuat/bertindak' }, { kanji: 'å…¬ç«‹', kana: 'ã“ã†ã‚Šã¤', arti: 'umum' }, { kanji: 'äº¤æµ', kana: 'ã“ã†ã‚Šã‚…ã†', arti: 'brinteraksi' }, { kanji: 'ã‚³ãƒ¼ã‚¹', kana: '', arti: 'lintasan,jalur' }, { kanji: 'ã‚³ãƒ¼ãƒŠãƒ¼', kana: '', arti: 'korner,area' }, { kanji: 'ã‚´ãƒ¼ãƒ«', kana: '', arti: 'tujuan,target' }, { kanji: 'èª¤è§£', kana: 'ã”ã‹ã„', arti: 'Salah paham' }, { kanji: 'å°åž‹', kana: 'ã“ãŒãŸ', arti: 'Ukuran kecil' }, { kanji: 'å›½ç”£', kana: 'ã“ãã•ã‚“', arti: 'Produksi dlm negri' }, { kanji: 'å›½ç«‹', kana: 'ã“ãã‚Šã¤', arti: 'negeri' }, { kanji: 'æ•…éšœ', kana: 'ã“ã—ã‚‡ã†', arti: 'rusak' }, { kanji: 'å›½ä¼š', kana: 'ã“ã£ã‹ã„', arti: 'parlemen' }, { kanji: 'å°åŒ…', kana: 'ã“ã¥ã¤ã¿', arti: 'paket' }, { kanji: 'ç²‰', kana: 'ã“ãª', arti: 'tepung' }, { kanji: 'ã‚³ãƒ³ã‚¯ãƒ¼ãƒ«', kana: '', arti: 'kontes' }, { kanji: 'æœ€é«˜', kana: 'ã•ã„ã“ã†', arti: 'Paling tinggi' }, { kanji: 'æœ€å¤§', kana: 'ã•ã„ã ã„', arti: 'Paling besar' }, { kanji: 'æœ€ä½Ž', kana: 'ã•ã„ã¦ã„', arti: 'Paling rendah' }, { kanji: 'è£åˆ¤', kana: 'ã•ã„ã°ã‚“', arti: 'pengadilan' }, { kanji: 'ææ–™', kana: 'ã–ã„ã‚Šã‚‡ã†', arti: 'bahan,material' }, { kanji: 'ã‚µã‚¤ãƒ¬ãƒ³', kana: '', arti: 'Bunyi sirene' }, { kanji: 'ä½œæ¥­', kana: 'ã•ãŽã‚‡ã†', arti: 'pengerjaan' }, { kanji: 'ä½œå“', kana: 'ã•ãã²ã‚“', arti: 'Hasil karya' }, { kanji: 'æ’®å½±', kana: 'ã•ã¤ãˆã„', arti: 'Pengambilan foto/video' }, { kanji: 'é¨’ãŽ', kana: 'ã•ã‚ãŽ', arti: 'keributan' }, { kanji: 'å‚åŠ ', kana: 'ã•ã‚“ã‹', arti: 'ikut,brpartipasi' }, { kanji: 'ç”£æ¥­', kana: 'ã•ã‚“ãŽã‚‡ã†', arti: 'industri' }, { kanji: 'å‚è€ƒ', kana: 'ã•ã‚“ã“ã†', arti: 'referensi' }, { kanji: 'è³›æˆ', kana: 'ã•ã‚“ã›ã„', arti: 'setuju,sepaket' }, { kanji: 'ç”£åœ°', kana: 'ã•ã‚“ã¡', arti: 'Lokasi produksi' }, { kanji: 'æ®‹æ¥­', kana: 'ã–ã‚“ãŽã‚‡ã†', arti: 'lembur' }, { kanji: 'è³‡æº', kana: 'ã—ã’ã‚“', arti: 'Sumber alam' }, { kanji: 'äº‹ä»¶', kana: 'ã˜ã‘ã‚“', arti: 'insiden' }, { kanji: 'è«¦ã‚ã‚‹', kana: 'ã‚ãã‚‰ã‚ã‚‹', arti: 'menyerah/putus asa' }, { kanji: 'é£½ãã‚‹', kana: 'ã‚ãã‚‹', arti: 'jenuh/bosan/tdk trtarik lagi' }, { kanji: 'é ã‹ã‚‹', kana: 'ã‚ãšã‹ã‚‹', arti: 'dititipkan' }, { kanji: 'é ã‘ã‚‹', kana: 'ã‚ãšã‘ã‚‹', arti: 'menitipkan' }, { kanji: 'æš–ã‚ã‚‹', kana: 'ã‚ãŸãŸã‚ã‚‹', arti: 'menghangatkan' }, { kanji: 'æ¸©ã‚ã‚‹', kana: 'ã‚ãŸãŸã‚ã‚‹', arti: 'mnghangatkan' }, { kanji: 'å½“ãŸã‚‹', kana: 'ã‚ãŸã‚‹', arti: 'terkena' }, { kanji: 'ä½™ã‚‹', kana: 'ã‚ã¾ã‚‹', arti: 'berlebih' }, { kanji: 'ç·¨ã‚€', kana: 'ã‚ã‚€', arti: 'merajut' }, { kanji: 'ç¾ã‚Œã‚‹', kana: 'ã‚ã‚‰ã‚ã‚Œã‚‹', arti: 'muncul' }, { kanji: 'åˆã‚ã›ã‚‹', kana: 'ã‚ã‚ã›ã‚‹', arti: 'mencocokkan' }, { kanji: 'æ…Œã¦ã‚‹', kana: 'ã‚ã‚ã¦ã‚‹', arti: 'tergesa2' }, { kanji: 'ç”Ÿã‹ã™', kana: 'ã„ã‹ã™', arti: 'menerapkan' }, { kanji: 'ã„ã˜ã‚ã‚‹', kana: '', arti: 'membuli' }, { kanji: 'ã„ãŸã‚ã‚‹', kana: '', arti: 'menumis' }, { kanji: 'å«ŒãŒã‚‹', kana: 'ã„ã‚„ãŒã‚‹', arti: 'membenci' }, { kanji: 'ã„ã‚‰ã„ã‚‰ã™ã‚‹', kana: '', arti: 'meradang,marah' }, { kanji: 'ç¥ã†', kana: 'ã„ã‚ã†', arti: 'merayakan' }, { kanji: 'æµ…ã„', kana: 'ã‚ã•ã„', arti: 'dangkal' }, { kanji: 'æã‚ã—ã„', kana: 'ãŠãã‚ã—ã„', arti: 'menakutkan' }, { kanji: 'ãŠã¨ãªã—ã„', kana: '', arti: 'manut,pendiam' }, { kanji: 'ã‹ã‚†ã„', kana: '', arti: 'gatal' }, { kanji: 'ãã¤ã„', kana: '', arti: 'sempit' }, { kanji: 'æ‚”ã—ã„', kana: 'ãã‚„ã—ã„', arti: 'kecewa' }, { kanji: 'æŒ‡ç¤º', kana: 'ã—ã˜', arti: 'instruksi,arahan' }, { kanji: 'äº‹å®Ÿ', kana: 'ã˜ã˜ã¤', arti: 'kenyataan,fakta' }, { kanji: 'äº‹æƒ…', kana: 'ã˜ã˜ã‚‡ã†', arti: 'situasi,kondisi' }, { kanji: 'è‡ªä¿¡', kana: 'ã˜ã—ã‚“', arti: 'Percaya diri' }, { kanji: 'æ™‚é€Ÿ', kana: 'ã˜ãã', arti: 'Kecepatan perjam' }, { kanji: 'æ”¯åº¦', kana: 'ã—ãŸã', arti: 'persiapan' }, { kanji: 'å¤±æ¥­', kana: 'ã—ã¤ãŽã‚‡ã†', arti: 'Kehilangan pekerjaan' }, { kanji: 'å®Ÿéš›', kana: 'ã˜ã£ã•ã„', arti: 'Yang sebenarnya/kenyataannya' }, { kanji: 'å®ŸåŠ›', kana: 'ã˜ã¤ã‚Šã‚‡ã', arti: 'Kemampuan seseorg' }, { kanji: 'æ”¯åº—', kana: 'ã—ã¦ã‚“', arti: 'Toko cabang' }, { kanji: 'æŒ‡å°Ž', kana: 'ã—ã©ã†', arti: 'membimbing' }, { kanji: 'äº‹å‹™', kana: 'ã˜ã‚€', arti: 'Kerjaan kantor' }, { kanji: 'ç· ã‚åˆ‡ã‚Š', kana: 'ã—ã‚ãã‚Š', arti: 'Batas waktu' }, { kanji: 'ã˜ã‚ƒã¾', kana: '', arti: 'gangguan' }, { kanji: 'é›†ä¼š', kana: 'ã—ã‚…ã†ã‹ã„', arti: 'pertemuan' }, { kanji: 'å®—æ•™', kana: 'ã—ã‚…ã†ãã‚‡ã†', arti: 'agama' }, { kanji: 'é›†åˆ', kana: 'ã—ã‚…ã†ã”ã†', arti: 'kumpul' }, { kanji: 'å°±è·', kana: 'ã—ã‚…ã†ã—ã‚‡ã', arti: 'pekerjaan' }, { kanji: 'é›†ä¸­', kana: 'ã—ã‚…ã†ã¡ã‚…ã†', arti: 'fokus' }, { kanji: 'å……é›»', kana: 'ã˜ã‚…ã†ã§ã‚“', arti: 'mengisi(baterai)' }, { kanji: 'ä¿®ç†', kana: 'ã—ã‚…ã†ã‚Š', arti: 'perbaikan' }, { kanji: 'ä¸»ç¾©', kana: 'ã—ã‚…ãŽ', arti: 'komitmen/prinsip' }, { kanji: 'ç¸®å°', kana: 'ã—ã‚…ãã—ã‚‡ã†', arti: 'mengurangi' }, { kanji: 'å—ä¿¡', kana: 'ã˜ã‚…ã—ã‚“', arti: 'menerima(email,pesan)' }, { kanji: 'æ¤ãˆã‚‹', kana: 'ã†ãˆã‚‹', arti: 'menanam' }, { kanji: 'å—ã‹ã‚‹', kana: 'ã†ã‹ã‚‹', arti: 'lulus' }, { kanji: 'æµ®ã', kana: 'ã†ã', arti: 'mengambang/mengapung/melayang' }, { kanji: 'å—ã‘ä»˜ã‘ã‚‹', kana: 'ã†ã‘ã¤ã‘ã‚‹', arti: 'menerima' }, { kanji: 'å—ã‘å–ã‚‹', kana: 'ã†ã‘ã¨ã‚‹', arti: 'menerima' }, { kanji: 'å‹•ã‹ã™', kana: 'ã†ã”ã‹ã™', arti: 'menggerakkan/memindahkan' }, { kanji: 'ç§»ã™', kana: 'ã†ã¤ã™', arti: 'memindahkan(hal abstrak jg trmasuk)' }, { kanji: 'å†™ã‚‹', kana: 'ã†ã¤ã‚‹', arti: 'terfoto' }, { kanji: 'è£è¿”ã™', kana: 'ã†ã‚‰ãŒãˆã™', arti: 'membalikkan' }, { kanji: 'å£²ã‚Šåˆ‡ã‚Œã‚‹', kana: 'ã†ã‚Šãã‚Œã‚‹', arti: 'Habis terjual' }, { kanji: 'è¿½ã„æŽ›ã‘ã‚‹', kana: 'ãŠã„ã‹ã‘ã‚‹', arti: 'mengejar' }, { kanji: 'è¿½ã„è¶Šã™', kana: 'ãŠã„ã“ã™', arti: 'menyusul,menyalip' }, { kanji: 'è¿½ã„ä»˜ã', kana: 'ãŠã„ã¤ã', arti: 'menyusul' }, { kanji: 'è´ˆã‚‹', kana: 'ãŠãã‚‹', arti: 'Mengirim hadiah' }, { kanji: 'è¡Œã†', kana: 'ãŠã“ãªã†', arti: 'mengadakan' }, { kanji: 'æŠ¼ã•ãˆã‚‹', kana: 'ãŠã•ãˆã‚‹', arti: 'memegang,menahan' }, { kanji: 'è½ã¡ç€ã', kana: 'ãŠã¡ã¤ã', arti: 'tenang' }, { kanji: 'æººã‚Œã‚‹', kana: 'ãŠã¼ã‚Œã‚‹', arti: 'tenggelam(kecelakaan)' }, { kanji: 'è¿½ã„ä»˜ã', kana: 'ãŠã„ã¤ã', arti: 'Muncul ide' }, { kanji: 'æŠ˜ã‚Œã‚‹', kana: 'ãŠã‚Œã‚‹', arti: 'patah' }, { kanji: 'ä¸‹ã‚ã™', kana: 'ãŠã‚ã™', arti: 'menurunkan' }, { kanji: 'é£¼ã†', kana: 'ã‹ã†', arti: 'memelihara' }, { kanji: 'è¼ã', kana: 'ã‹ãŒã‚„ã', arti: 'bersinar(abstrakpun bisa)' }, { kanji: 'éš ã™', kana: 'ã‹ãã™', arti: 'menyembunyikan' }, { kanji: 'è‹¦ã—ã„', kana: 'ãã‚‹ã—ã„', arti: 'menderita,kesusahan' }, { kanji: 'è©³ã—ã„', kana: 'ãã‚ã—ã„', arti: 'detail' }, { kanji: 'æ¿ƒã„', kana: 'ã“ã„', arti: 'pekat,kental(warna,rasa mknnan)' }, { kanji: 'ç´°ã‹ã„', kana: 'ã“ã¾ã‹ã„', arti: 'kecil' }, { kanji: 'å¡©è¾›ã„', kana: 'ã—ãŠã‹ã‚‰ã„', arti: 'asin' }, { kanji: 'å››è§’ã„', kana: 'ã—ã‹ãã„', arti: 'Persegi empat' }, { kanji: 'ã¤ã‚‰ã„', kana: '', arti: 'berat,menyakitkan' }, { kanji: 'ã¬ã‚‹ã„', kana: '', arti: 'hangat(air,cairan)' }, { kanji: 'è²§ã—ã„', kana: 'ã¾ãšã—ã„', arti: 'miskin' }, { kanji: 'è’¸ã—æš‘ã„', kana: 'ã‚€ã—ã‚ã¤ã„', arti: 'Panas gerah' }, { kanji: 'ã‚‚ã£ãŸã„ãªã„', kana: '', arti: 'mubazir,sia2' }, { kanji: 'ã‚‚ã®ã™ã”ã„', kana: '', arti: 'Luar biasa' }, { kanji: 'é’ã„', kana: 'ã‚ãŠã„', arti: 'biru' }, { kanji: 'èµ¤ã„', kana: 'ã‚ã‹ã„', arti: 'merah' }, { kanji: 'æ˜Žã‚‹ã„', kana: 'ã‚ã‹ã‚‹ã„', arti: 'cerah,ceria' }, { kanji: 'æš–ã‹ã„', kana: 'ã‚ãŸãŸã‹ã„', arti: 'hangat' }, { kanji: 'é ­ãŒã„ã„', kana: 'ã‚ãŸã¾ãŒã„ã„', arti: 'pintar/cerdas' }, { kanji: 'æš‘ã„', kana: 'ã‚ã¤ã„', arti: 'panas' }, { kanji: 'é‡ã„', kana: 'ãŠã‚‚ã„', arti: 'berat' }, { kanji: 'è»½ã„', kana: 'ã‹ã‚‹ã„', arti: 'ringan' }, { kanji: 'æš—ã„', kana: 'ãã‚‰ã„', arti: 'gelap' }, { kanji: 'é»’ã„', kana: 'ãã‚ã„', arti: 'hitam' }, { kanji: 'å¯’ã„', kana: 'ã•ã‚€ã„', arti: 'dingin' }, { kanji: 'ç™½ã„', kana: 'ã—ã‚ã„', arti: 'putih' }, { kanji: 'æ¶¼ã—ã„', kana: 'ã™ãšã—ã„', arti: 'sejuk' }, { kanji: 'æ­£ã—ã„', kana: 'ãŸã ã—ã„', arti: 'benar/tepat' }, { kanji: 'æ¥½ã—ã„', kana: 'ãŸã®ã—ã„', arti: 'menyenangkan' }, { kanji: 'è¿‘ã„', kana: 'ã¡ã‹ã„', arti: 'dekat' }, { kanji: 'éƒ½åˆãŒã„ã„', kana: 'ã¤ã”ã†ãŒã„ã„', arti: 'cocok/sesuai' }, { kanji: 'å¼·ã„', kana: 'ã¤ã‚ˆã„', arti: 'kuat' }, { kanji: 'ä½Žã„', kana: 'ã²ãã„', arti: 'rendah' }, { kanji: 'åºƒã„', kana: 'ã²ã‚ã„', arti: 'luas' }, { kanji: 'å¤ªã„', kana: 'ãµã¨ã„', arti: 'gemuk/gendut' }, { kanji: 'ç´°ã„', kana: 'ã»ãã„', arti: 'kurus/ramping/tipis/sempit' }, { kanji: 'çŸ­ã„', kana: 'ã¿ã˜ã‹ã„', arti: 'pendek' }, { kanji: 'è‰¯ã„', kana: 'ã‚ˆã„', arti: 'bagus' }, { kanji: 'å¼±ã„', kana: 'ã‚ˆã‚ã„', arti: 'lemah' }, { kanji: 'æ‚ªã„', kana: 'ã‚ã‚‹ã„', arti: 'buruk/jahat' }, { kanji: 'å…ƒæ°—', kana: 'ã’ã‚“ã', arti: 'sehat/bersemangat' }, { kanji: 'è¦ªåˆ‡', kana: 'ã—ã‚“ã›ã¤', arti: 'Baik hati/ramah' }, { kanji: 'å¥½ã', kana: 'ã™ã', arti: 'suka' }, { kanji: 'å¤§äº‹', kana: 'ã ã„ã˜', arti: 'penting/berharga/berarti' }, { kanji: 'å¤§åˆ‡', kana: 'ãŸã„ã›ã¤', arti: 'penting/berharga/berarti' }, { kanji: 'å¤§å¤‰', kana: 'ãŸã„ã¸ã‚“', arti: 'susah/berat/sulit' }, { kanji: 'ç‰¹åˆ¥', kana: 'ã¨ãã¹ã¤', arti: 'khusus/spesial/istimewa' }, { kanji: 'ä¸ä¾¿', kana: 'ãµã¹ã‚“', arti: 'Tdk praktis/tdk nyaman/merepotkan' }, { kanji: 'å¤‰', kana: 'ã¸ã‚“', arti: 'aneh/tidak biasa/tidak normal' }, { kanji: 'æœ‰å', kana: 'ã‚†ã†ã‚ã„', arti: 'terkenal' }, { kanji: 'ä¾¿åˆ©', kana: 'ã¹ã‚“ã‚Š', arti: 'praktis' }, { kanji: 'æ™®é€š', kana: 'ãµã¤ã†', arti: 'biasa/normal' }, { kanji: 'é–‹ã‘ã‚‹', kana: 'ã‚ã‘ã‚‹', arti: 'membuka' }, { kanji: 'é–‹ã', kana: 'ã‚ã', arti: 'terbuka(terbuka sendiri)' }, { kanji: 'é›†ã¾ã‚‹', kana: 'ã‚ã¤ã¾ã‚‹', arti: 'berkumpul(berkumpul sendiri' }, { kanji: 'é›†ã‚ã‚‹', kana: 'ã‚ã¤ã‚ã‚‹', arti: 'mengumpulkan(sesuatu)' }, { kanji: 'æ´—ã†', kana: 'ã‚ã‚‰ã†', arti: 'mencuci' }, { kanji: 'æ­©ã', kana: 'ã‚ã‚‹ã', arti: 'berjalan' }, { kanji: 'å®‰å¿ƒã™ã‚‹', kana: 'ã‚ã‚“ã—ã‚“ã™ã‚‹', arti: 'Merasa tenang/lega/aman' }, { kanji: 'å‹•ã', kana: 'ã†ã”ã', arti: 'bergerak' }, { kanji: 'æ­Œã†', kana: 'ã†ãŸã†', arti: 'menyanyi' }, { kanji: 'ç”£ã‚€', kana: 'ã†ã‚€', arti: 'melahirkan/menghasilkan sesuatu' }, { kanji: 'å£²ã‚‹', kana: 'ã†ã‚‹', arti: 'menjual' }, { kanji: 'é‹è»¢ã™ã‚‹', kana: 'ã†ã‚“ã¦ã‚“ã™ã‚‹', arti: 'mengemudi' }, { kanji: 'é‹å‹•ã™ã‚‹', kana: 'ã†ã‚“ã©ã†ã™ã‚‹', arti: 'berolahraga' }, { kanji: 'èµ·ãã‚‹', kana: 'ãŠãã‚‹', arti: 'bangun' }, { kanji: 'é€ã‚‹', kana: 'ãŠãã‚‹', arti: 'mengirim' }, { kanji: 'æ•™ãˆã‚‹', kana: 'ãŠã—ãˆã‚‹', arti: 'mengajar/memberitahu' }, { kanji: 'æ€ã„å‡ºã™', kana: 'ãŠã‚‚ã„ã ã™', arti: 'mengingat/teringat' }, { kanji: 'æ€ã†', kana: 'ãŠã‚‚ã†', arti: 'berpikir/merasa' }, { kanji: 'é™ã‚Šã‚‹', kana: 'ãŠã‚Šã‚‹', arti: 'turun/menuruni' }, { kanji: 'çµ‚ã‚ã‚‹', kana: 'ãŠã‚ã‚‹', arti: 'selesai/berakhir' }, { kanji: 'è¿”ã™', kana: 'ã‹ãˆã™', arti: 'mengembalikan' }, { kanji: 'å¸°ã‚‹', kana: 'ã‹ãˆã‚‹', arti: 'pulang' }, { kanji: 'è²¸ã™', kana: 'ã‹ã™', arti: 'meminjamkan' }, { kanji: 'é€šã†', kana: 'ã‹ã‚ˆã†', arti: 'Pergi pulang-pergi(secara rutin)' }, { kanji: 'å€Ÿã‚Šã‚‹', kana: 'ã‹ã‚Šã‚‹', arti: 'meminjam' }, { kanji: 'å¤‰ã‚ã‚‹', kana: 'ã‹ã‚ã‚‹', arti: 'berubah/berganti(by itself)' }, { kanji: 'è€ƒãˆã‚‹', kana: 'ã‹ã‚“ãŒãˆã‚‹', arti: 'memikirkan/merenungkan' }, { kanji: 'å¼·èª¿ã™ã‚‹', kana: 'ãã‚‡ã†ã¡ã‚‡ã†ã™ã‚‹', arti: 'menekankan/menggarisbawahi' }, { kanji: 'åˆ‡ã‚‹', kana: 'ãã‚‹', arti: 'memotong/menebas' }, { kanji: 'ç€ã‚‹', kana: 'ãã‚‹', arti: 'memakai/mengenakan(pakaian)' }, { kanji: 'ç ”ç©¶ã™ã‚‹', kana: 'ã‘ã‚“ãã‚…ã†ã™ã‚‹', arti: 'meneliti/mempelajari scr mndalam' }, { kanji: 'ç­”ãˆã‚‹', kana: 'ã“ãŸãˆã‚‹', arti: 'menjawab/memberi jawaban' }, { kanji: 'è³ªå•ã™ã‚‹', kana: 'ã—ã¤ã‚‚ã‚“ã™ã‚‹', arti: 'bertanya/mengajukan prtanyaan' }, { kanji: 'æ­»ã¬', kana: 'ã—ã¬', arti: 'meninggal/mati' }, { kanji: 'é–‰ã‚ã‚‹', kana: 'ã—ã‚ã‚‹', arti: 'menutup(sesuatu)' }, { kanji: 'å‡ºç™ºã™ã‚‹', kana: 'ã—ã‚…ã£ã±ã¤ã™ã‚‹', arti: 'berangkat' }, { kanji: 'çŸ¥ã‚‹', kana: 'ã—ã‚‹', arti: 'mengetahui' }, { kanji: 'ä¿¡ã˜ã‚‹', kana: 'ã—ã‚“ã˜ã‚‹', arti: 'percaya/meyakini' }, { kanji: 'é€²ã‚€', kana: 'ã™ã™ã‚€', arti: 'maju/bergerak maju/berkembang' }, { kanji: 'ä½ã‚€', kana: 'ã™ã‚€', arti: 'tinggal/menetap' }, { kanji: 'èª¬æ˜Žã™ã‚‹', kana: 'ã›ã¤ã‚ã„ã™ã‚‹', arti: 'menjelaskan' }, { kanji: 'ä¸–è©±ã‚’ã™ã‚‹', kana: 'ã›ã‚ã‚’ã™ã‚‹', arti: 'merawat/mengurus' }, { kanji: 'å»ºã¦ã‚‹', kana: 'ãŸã¦ã‚‹', arti: 'membangun/mendirikan' }, { kanji: 'æ³¨æ„ã™ã‚‹', kana: 'ã¡ã‚…ã†ã„ã™ã‚‹', arti: 'memperhatikn/memberi pringatan' }, { kanji: 'ä¸­æ­¢ã™ã‚‹', kana: 'ã¡ã‚…ã†ã—ã™ã‚‹', arti: 'membatalkan/mnghentikan sementara' }, { kanji: 'æ³¨æ–‡ã™ã‚‹', kana: 'ã¡ã‚…ã†ã‚‚ã‚“ã™ã‚‹', arti: 'memesan' }, { kanji: 'ä½¿ã†', kana: 'ã¤ã‹ã†', arti: 'menggunakn' }, { kanji: 'ç€ã', kana: 'ã¤ã', arti: 'tiba(di suatu tmpat)' }, { kanji: 'ä½œã‚‹', kana: 'ã¤ãã‚‹', arti: 'membuat/mnghasilkan/menyusun' }, { kanji: 'æ­¢ã¾ã‚‹', kana: 'ã¨ã¾ã‚‹', arti: 'berhenti' }, { kanji: 'é–“ã«åˆã†', kana: 'ã¾ã«ã‚ã†', arti: 'Tepat waktu' }, { kanji: 'å…¥é™¢ã™ã‚‹', kana: 'ã«ã‚…ã†ã„ã‚“ã™ã‚‹', arti: 'opname/masuk rs' }, { kanji: 'ç¿’ã†', kana: 'ãªã‚‰ã†', arti: 'Mempelajari sesuatu dr seseorg' }, { kanji: 'ä¹—ã‚‹', kana: 'ã®ã‚‹', arti: 'naik/menaiki' }, { kanji: 'é‹ã¶', kana: 'ã¯ã“ã¶', arti: 'mengangkut/membawa/memindahkan' }, { kanji: 'å§‹ã‚ã‚‹', kana: 'ã¯ã˜ã‚ã‚‹', arti: 'memulai/mngawali' }, { kanji: 'èµ°ã‚‹', kana: 'ã¯ã—ã‚‹', arti: 'berlari' }, { kanji: 'åƒã', kana: 'ã¯ãŸã‚‰ã', arti: 'bekerja' }, { kanji: 'å¼•ã', kana: 'ã²ã', arti: 'menarik' }, { kanji: 'å¤‰åŒ–ã™ã‚‹', kana: 'ã¸ã‚“ã‹ã™ã‚‹', arti: 'brubah/mngalami perubahan' }, { kanji: 'å‹‰å¼·ã™ã‚‹', kana: 'ã¹ã‚“ãã‚‡ã†ã™ã‚‹', arti: 'belajar' }, { kanji: 'å¾…ã¤', kana: 'ã¾ã¤', arti: 'menunggu' }, { kanji: 'å›žã™', kana: 'ã¾ã‚ã™', arti: 'memutar(sesuatu)' }, { kanji: 'æŒã¤', kana: 'ã‚‚ã¤', arti: 'memiliki/menahan/membawa' }, { kanji: 'ç”¨æ„ã™ã‚‹', kana: 'ã‚ˆã†ã„ã™ã‚‹', arti: 'mempersiapkan' }, { kanji: 'åˆ©ç”¨ã™ã‚‹', kana: 'ã‚Šã‚ˆã†ã™ã‚‹', arti: 'memanfaatkan/mnggunakan/memakai' }, { kanji: 'æ—…è¡Œã™ã‚‹', kana: 'ã‚Šã‚‡ã“ã†ã™ã‚‹', arti: 'bepergian(melakukan perjalanan)' }, { kanji: 'åˆ¥ã‚Œã‚‹', kana: 'ã‚ã‹ã‚Œã‚‹', arti: 'berpisah(putus hubungan)' }, { kanji: 'æ˜ ç”»é¤¨', kana: 'ãˆã„ãŒã‹ã‚“', arti: 'bioskop' }, { kanji: 'æ•™å®¤', kana: 'ãã‚‡ã†ã—ã¤', arti: 'kelas' }, { kanji: 'éŠ€è¡Œ', kana: 'ãŽã‚“ã“ã†', arti: 'bank' }, { kanji: 'å·¥å ´', kana: 'ã“ã†ã˜ã‚‡ã†', arti: 'pabrik' }, { kanji: 'é£Ÿå ‚', kana: 'ã—ã‚‡ãã©ã†', arti: 'Ruang makan' }, { kanji: 'äº¬éƒ½å¸‚', kana: 'ãã‚‡ã†ã¨ã—', arti: 'Kota kyouto' }, { kanji: 'å¤§å­¦é™¢', kana: 'ã ã„ãŒãã„ã‚“', arti: 'Program pascasarjana' }, { kanji: 'å¤§ä½¿é¤¨', kana: 'ãŸã„ã—ã‹ã‚“', arti: 'kedutaan' }, { kanji: 'å»ºç‰©', kana: 'ãŸã¦ã‚‚ã®', arti: 'bangunan' }, { kanji: 'å›³æ›¸é¤¨', kana: 'ã¨ã—ã‚‡ã‹ã‚“', arti: 'perpustakaan' }, { kanji: 'æ‰€', kana: 'ã¨ã“ã‚', arti: 'tempat' }, { kanji: 'å ´æ‰€', kana: 'ã°ã—ã‚‡', arti: 'tempat/lokasi' }, { kanji: 'ç—…é™¢', kana: 'ã³ã‚‡ã†ã„ã‚“', arti: 'Rumah sakit' }, { kanji: 'æ—…é¤¨', kana: 'ã‚Šã‚‡ã‹ã‚“', arti: 'Penginapan tradisional jepang' }, { kanji: 'å…„', kana: 'ã‚ã«', arti: 'Kakak laki2' }, { kanji: 'å§‰', kana: 'ã‚ã­', arti: 'Kakak perempuan' }, { kanji: 'å¦¹', kana: 'ã„ã‚‚ã†ã¨', arti: 'Adik perempuan' }, { kanji: 'å¼Ÿ', kana: 'ãŠã¨ã†ã¨', arti: 'Adik laki2' }, { kanji: 'ãŠå…„ã•ã‚“', kana: 'ãŠã«ã„ã•ã‚“', arti: 'Kakak laki2(org lain)' }, { kanji: 'ãŠå§‰ã•ã‚“', kana: 'ãŠã­ãˆã•ã‚“', arti: 'Kakak perempuan(org lain)' }, { kanji: 'è¦ª', kana: 'ãŠã‚„', arti: 'Orang tua' }, { kanji: 'å…„å¼Ÿ', kana: 'ãã‚‡ã†ã ã„', arti: 'Saudara laki2' }, { kanji: 'å§‰å¦¹', kana: 'ã—ã¾ã„', arti: 'saudari' }, { kanji: 'æ¯è¦ª', kana: 'ã¯ã¯ãŠã‚„', arti: 'ibu' }, { kanji: 'çˆ¶è¦ª', kana: 'ã¡ã¡ãŠã‚„', arti: 'ayah' }, { kanji: 'ä¸¡è¦ª', kana: 'ã‚Šã‚‡ã†ã—ã‚“', arti: 'Orang tua' }, { kanji: 'åŒ»è€…', kana: 'ã„ã—ã‚ƒ', arti: 'dokter' }, { kanji: 'æ­Œæ‰‹', kana: 'ã‹ã—ã‚…', arti: 'penyanyi' }, { kanji: 'ä»•äº‹', kana: 'ã—ã”ã¨', arti: 'perkerjaa' }, { kanji: 'åº—å“¡', kana: 'ã¦ã‚“ã„ã‚“', arti: 'Pegawai toko' }, { kanji: 'è‡ªè»¢è»Š', kana: 'ã˜ã¦ã‚“ã—ã‚ƒ', arti: 'sepeda' }, { kanji: 'è‡ªå‹•è»Š', kana: 'ã˜ã©ã†ã—ã‚ƒ', arti: 'mobil' }, { kanji: 'ä¿¡å·', kana: 'ã—ã‚“ã”ã†', arti: 'Lampu lalu lintas' }, { kanji: 'äº¤é€š', kana: 'ã“ã†ã¤ã†', arti: 'transportasi/lalulintas' }, { kanji: 'åœ°ä¸‹é‰„', kana: 'ã¡ã‹ã¦ã¤', arti: 'Kereta bawah tanah' }, { kanji: 'ç‰¹æ€¥', kana: 'ã¨ã£ãã‚…ã†', arti: 'Kereta express khusus' }, { kanji: 'æœ', kana: 'ã‚ã•', arti: 'pagi' }, { kanji: 'æ˜Žæ—¥', kana: 'ã‚ã—ãŸ', arti: 'besok' }, { kanji: 'ä»Šæœ', kana: 'ã‘ã•', arti: 'Tadi pagi' }, { kanji: 'ä»Šåº¦', kana: 'ã“ã‚“ã©', arti: 'Kali ini/lain kali' }, { kanji: 'ä»Šæ™©', kana: 'ã“ã‚“ã°ã‚“', arti: 'Malam ini' }, { kanji: 'ä»Šå¤œ', kana: 'ã“ã‚“ã‚„', arti: 'Malam ini' }, { kanji: 'å¤ä¼‘ã¿', kana: 'ãªã¤ã‚„ã™ã¿', arti: 'Liburan musim panas' }, { kanji: 'æ˜¼', kana: 'ã²ã‚‹', arti: 'siang' }, { kanji: 'æ˜¼ä¼‘ã¿', kana: 'ã²ã‚‹ã‚„ã™ã¿', arti: 'Istirahat siang' }, { kanji: 'å¤•æ–¹', kana: 'ã‚†ã†ãŒãŸ', arti: 'sore' }, { kanji: 'å¤œ', kana: 'ã‚ˆã‚‹', arti: 'malam' }, { kanji: 'ç§‹', kana: 'ã‚ã', arti: 'Musim gugur/autumn' }, { kanji: 'å­£ç¯€', kana: 'ãã›ã¤', arti: 'musim' }, { kanji: 'å¤', kana: 'ãªã¤', arti: 'Musim panas' }, { kanji: 'æ˜¥', kana: 'ã¯ã‚‹', arti: 'Musim semi' }, { kanji: 'å†¬', kana: 'ãµã‚†', arti: 'Musim dingin' }, { kanji: 'å‘³', kana: 'ã‚ã˜', arti: 'rasa(makanan)' }, { kanji: 'é ­', kana: 'ã‚ãŸã¾', arti: 'kepala' }, { kanji: 'ä»¥ä¸‹', kana: 'ã„ã‹', arti: 'dibawah/kurang dari' }, { kanji: 'ä»¥å¤–', kana: 'ã„ãŒã„', arti: 'selain/kecuali' }, { kanji: 'æ± ', kana: 'ã„ã‘', arti: 'kolam(buatan dan kecil)' }, { kanji: 'æ„è¦‹', kana: 'ã„ã‘ã‚“', arti: 'pendapat' }, { kanji: 'ä»¥ä¸Š', kana: 'ã„ã˜ã‚‡ã†', arti: 'Lebih dari/diatas/sekian' }, { kanji: 'ä¸€å›ž', kana: 'ã„ã£ã‹ã„', arti: 'Satu kali/sekali' }, { kanji: 'çŠ¬', kana: 'ã„ã¬', arti: 'anjing' }, { kanji: 'æ„å‘³', kana: 'ã„ã¿', arti: 'arti' }, { kanji: 'è‰²', kana: 'ã„ã‚', arti: 'warna' }, { kanji: 'æµ·', kana: 'ã†ã¿', arti: 'laut' }, { kanji: 'æ˜ ç”»', kana: 'ãˆã„ãŒ', arti: 'film' }, { kanji: 'è‹±èªž', kana: 'ãˆã„ã”', arti: 'Bahasa inggris' }, { kanji: 'å±‹ä¸Š', kana: 'ãŠãã˜ã‚‡ã†', arti: 'atap(bangunan/rooftop)' }, { kanji: 'ãŠèŒ¶', kana: 'ãŠã¡ã‚ƒ', arti: 'Teh hijau' }, { kanji: 'åŒã˜', kana: 'ãŠãªã˜', arti: 'sama' }, { kanji: 'éŸ³', kana: 'ãŠã¨', arti: 'bunyi/auara' }, { kanji: 'éŸ³æ¥½', kana: 'ãŠã‚“ãŒã', arti: 'musik' }, { kanji: 'æµ·å¤–', kana: 'ã‹ã„ãŒã„', arti: 'Luar nereri' }, { kanji: 'è²·ã„ç‰©', kana: 'ã‹ã„ã‚‚ã®', arti: 'belanja/berbelanja' }, { kanji: 'ç§‘å­¦', kana: 'ã‹ãŒã', arti: 'Ilmu pengetahuan' }, { kanji: 'é¡”', kana: 'ã‹ãŠ', arti: 'wajah' }, { kanji: 'ç«äº‹', kana: 'ã‹ã˜', arti: 'kebakaran' }, { kanji: 'å½¢', kana: 'ã‹ãŸã¡', arti: 'bentuk/wujud/form' }, { kanji: 'ç´™', kana: 'ã‹ã¿', arti: 'kertas' }, { kanji: 'ä½“', kana: 'ã‹ã‚‰ã ', arti: 'tubuh/badan' }, { kanji: 'ä»£ã‚ã‚Šã«', kana: 'ã‹ã‚ã‚Šã«', arti: 'Sbg pengganti/sbg gantinya' }, { kanji: 'æ¼¢å­—', kana: 'ã‹ã‚“ã˜', arti: 'kanji' }, { kanji: 'æ°—æŒã¡', kana: 'ãã‚‚ã¡', arti: 'perasaan/mood' }, { kanji: 'ç€ç‰©', kana: 'ãã‚‚ã®', arti: 'kimono' }, { kanji: 'æ•™ç§‘æ›¸', kana: 'ãã‚‡ã†ã‹ã—ã‚‡', arti: 'Buku pelajaran' }, { kanji: 'é¦–', kana: 'ãã³', arti: 'leher' }, { kanji: 'å­çŠ¬', kana: 'ã“ã„ã¬', arti: 'Anak anjing' }, { kanji: 'å·¥æ¥­', kana: 'ã“ã†ãŽã‚‡ã†', arti: 'Industri manukfaktur' }, { kanji: 'å£°', kana: 'ã“ãˆ', arti: 'suara(manusia atau hewan)' }, { kanji: 'å¿ƒ', kana: 'ã“ã“ã‚', arti: 'hati/jiwa/pikiran' }, { kanji: 'ç±³', kana: 'ã“ã‚', arti: 'beras' }, { kanji: 'ä½œæ–‡', kana: 'ã•ãã¶ã‚“', arti: 'karangan/essai/tulisan' }, { kanji: 'ç”£æ¥­', kana: 'ã•ã‚“ãŽã‚‡ã†', arti: 'industri/sektor produksi' }, { kanji: 'å­—', kana: 'ã˜', arti: 'huruf' }, { kanji: 'è‡ªåˆ†', kana: 'ã˜ã¶ã‚“', arti: 'Diri sendiri/myself' }, { kanji: 'å°èª¬', kana: 'ã—ã‚‡ã†ã›ã¤', arti: 'novel/cerita fiksi' }, { kanji: 'ä¸»äºº', kana: 'ã—ã‚…ã˜ã‚“', arti: 'suami/tuan/pemilik rumah' }, { kanji: 'æ­£æœˆ', kana: 'ã—ã‚‡ã†ãŒã¤', arti: 'Tahun baru' }, { kanji: 'ä¸–ç•Œ', kana: 'ã›ã‹ã„', arti: 'dunia' }, { kanji: 'é¢¨', kana: 'ã‹ãœ', arti: 'angin' }, { kanji: 'åˆ‡æ‰‹', kana: 'ãã£ã¦', arti: 'perangko/stamp' }, { kanji: 'æ€¥ã«', kana: 'ãã‚…ã†ã«', arti: 'tiba2' }, { kanji: 'ç‰›è‚‰', kana: 'ãŽã‚…ã†ã«ã', arti: 'Daging sapi' }, { kanji: 'è¿‘æ‰€', kana: 'ãã‚“ã˜ã‚‡', arti: 'sekitar/lingkungan sekitar/tetangga' }, { kanji: 'åŒº', kana: 'ã', arti: 'distrik/wilayah' }, { kanji: 'è–¬', kana: 'ãã™ã‚Š', arti: 'obat' }, { kanji: 'è¨ˆç”»', kana: 'ã‘ã„ã‹ã', arti: 'rencana' }, { kanji: 'å°é³¥', kana: 'ã“ã¨ã‚Š', arti: 'Burung kecil' }, { kanji: 'ã”é£¯', kana: 'ã”ã¯ã‚“', arti: 'nasi/makanan' }, { kanji: 'å“ç‰©', kana: 'ã—ãªã‚‚ã®', arti: 'barang/item/produk' }, { kanji: 'è©¦åˆ', kana: 'ã—ã‚ã„', arti: 'pertandingan' }, { kanji: 'è©¦é¨“', kana: 'ã—ã‘ã‚“', arti: 'ujian/test' }, { kanji: 'å¸‚æ°‘', kana: 'ã—ã¿ã‚“', arti: 'Warga kota/citizen' }, { kanji: 'å†™çœŸ', kana: 'ã—ã‚ƒã—ã‚“', arti: 'foto' }, { kanji: 'ä½æ‰€', kana: 'ã˜ã‚…ã†ã—ã‚‡', arti: 'alamat(tempat tinggal)' }, { kanji: 'é£Ÿæ–™å“', kana: 'ã—ã‚‡ãã‚Šã‚‡ã†ã²ã‚“', arti: 'Bahan makanan' }, { kanji: 'èª¬æ˜Ž', kana: 'ã›ã¤ã‚ã„', arti: 'penjelasan' }, { kanji: 'å°æ‰€', kana: 'ã ã„ã©ã“ã‚', arti: 'dapur' }, { kanji: 'å°é¢¨', kana: 'ãŸã„ãµã†', arti: 'topan' }, { kanji: 'åœ°å›³', kana: 'ã¡ãš', arti: 'peta/map' }, { kanji: 'èŒ¶è‰²', kana: 'ã¡ã‚ƒã„ã‚', arti: 'Warna coklat' }, { kanji: 'åœ°ç†', kana: 'ã¡ã‚Š', arti: 'geografi' }, { kanji: 'æ‰‹ç´™', kana: 'ã¦ãŒã¿', arti: 'surat' }, { kanji: 'å¤©æ°—', kana: 'ã¦ã‚“ã', arti: 'cuaca' }, { kanji: 'é›»æ± ', kana: 'ã§ã‚“ã¡', arti: 'baterai' }, { kanji: 'å‹•ç‰©', kana: 'ã©ã†ã¶ã¤', arti: 'hewan' }, { kanji: 'ç‰¹ã«', kana: 'ã¨ãã«', arti: 'terutama/scr khusus' }, { kanji: 'æ™‚è¨ˆ', kana: 'ã¨ã‘ã„', arti: 'jam' }, { kanji: 'é³¥', kana: 'ã¨ã‚Š', arti: 'burung' }, { kanji: 'è‚‰', kana: 'ã«ã', arti: 'daging' }, { kanji: 'æ—¥æ›œæ—¥', kana: 'ã«ã¡ã‚ˆã†ã³', arti: 'Hari minggu' }, { kanji: 'äººå½¢', kana: 'ã«ã‚“ãŽã‚‡ã†', arti: 'boneka' }, { kanji: 'æž—', kana: 'ã¯ã‚„ã—', arti: 'Hutan kecil/kelmpok pohon' }, { kanji: 'æ™©ã”é£¯', kana: 'ã°ã‚“ã”ã¯ã‚“', arti: 'Makan malam' }, { kanji: 'å…‰', kana: 'ã²ã‹ã‚Š', arti: 'cahaya/sinar/kilau' }, { kanji: 'ç—…æ°—', kana: 'ã³ã‚‡ã†ã', arti: 'sakit' }, { kanji: 'æœ', kana: 'ãµã', arti: 'pakaian' }, { kanji: 'æ–‡', kana: 'ã¶ã‚“', arti: 'kalimat' }, { kanji: 'æ–‡å­¦', kana: 'ã¶ã‚“ãŒã', arti: 'sastra' }, { kanji: 'åˆ†é‡Ž', kana: 'ã¶ã‚“ã‚„', arti: 'bidang/area' }, { kanji: 'å¼•ãå‡ºã—', kana: 'ã²ãã ã—', arti: 'laci' }, { kanji: 'æœ¬å±‹', kana: 'ã»ã‚“ã‚„', arti: 'Toko buku' }, { kanji: 'ç”º', kana: 'ã¾ã¡', arti: 'Kota kecil' }, { kanji: 'çœŸã‚“ä¸­', kana: 'ã¾ã‚“ãªã‹', arti: 'tengah/pusat/ditengah2' }, { kanji: 'æ‘', kana: 'ã‚€ã‚‰', arti: 'desa' }, { kanji: 'æ£®', kana: 'ã‚‚ã‚Š', arti: 'hutan' }, { kanji: 'å•é¡Œ', kana: 'ã‚‚ã‚“ã ã„', arti: 'masalah/soal' }, { kanji: 'é‡Žèœ', kana: 'ã‚„ã•ã„', arti: 'sayur' }, { kanji: 'å¤•é£Ÿ', kana: 'ã‚†ã†ã—ã‚‡ã', arti: 'Makan mlm' }, { kanji: 'é›ª', kana: 'ã‚†ã', arti: 'salju' }, { kanji: 'ç”¨äº‹', kana: 'ã‚ˆã†ã˜', arti: 'urusan/keperluan/pekerjaan yg hrs dilakukan' }, { kanji: 'æ´‹æœ', kana: 'ã‚ˆã†ãµã', arti: 'Pakaian barat' }, { kanji: 'æ–™é‡‘', kana: 'ã‚Šã‚‡ã†ãã‚“', arti: 'biaya/tarif' }, { kanji: 'ä¸¡æ–¹', kana: 'ã‚Šã‚‡ã†ã»ã†', arti: 'keduanya/both' }, { kanji: 'æ–™ç†', kana: 'ã‚Šã‚‡ã†ã‚Š', arti: 'masakan' }
        ];

        const encouragementMessages = [
            "You're doing great! âœ¨", "Awesome! ðŸ‘", "Keep it up! ðŸš€", "Super smart! ðŸ§ ",
            "Wow! ðŸŽ‰", "You're a star! â­", "Fantastic! ðŸ˜ƒ", "Brilliant! ðŸ’¡"
        ];
        
        const tryAgainMessages = [
            "Don't worry, try again! ðŸ˜Š", "You can do it! ðŸ’ª", "Learning is a journey! ðŸ—ºï¸", "Keep trying! âœ¨"
        ];

        // --- State Management ---
        let gameState = {
            words: [],
            last100Scores: [],
            totalScore: 0,
            questionsAttempted: 0,
            consecutiveWrongAnswers: 0,
            currentQuestion: null,
            selectedAnswer: null,
            isAnswered: false,
            questionsSinceEncouragement: 0,
            nextEncouragementInterval: 0
        };

        // --- DOM Elements ---
        const questionTextKanji = document.getElementById('question-text-kanji');
        const questionTextKana = document.getElementById('question-text-kana');
        const choicesContainer = document.getElementById('choices-container');
        const checkButton = document.getElementById('check-button');
        const skipButton = document.getElementById('skip-button');
        const gameCompleteDiv = document.getElementById('game-complete');
        const encouragementPopup = document.getElementById('encouragement-popup');
        const encouragementText = document.getElementById('encouragement-text');

        // --- Similarity Metric ---
        function levenshteinDistance(a, b) {
            if (a.length === 0) return b.length;
            if (b.length === 0) return a.length;
            const matrix = Array(b.length + 1).fill(null).map(() => Array(a.length + 1).fill(null));
            for (let i = 0; i <= a.length; i++) { matrix[0][i] = i; }
            for (let j = 0; j <= b.length; j++) { matrix[j][0] = j; }
            for (let j = 1; j <= b.length; j++) {
                for (let i = 1; i <= a.length; i++) {
                    const cost = a[i - 1] === b[j - 1] ? 0 : 1;
                    matrix[j][i] = Math.min(
                        matrix[j][i - 1] + 1,
                        matrix[j - 1][i] + 1,
                        matrix[j - 1][i - 1] + cost,
                    );
                }
            }
            return matrix[b.length][a.length];
        }

        // --- Game Logic ---
        function init() {
            loadState();
            if (gameState.nextEncouragementInterval === 0) {
                 gameState.nextEncouragementInterval = getRandomInterval(4, 9);
            }
            updateStats();
            generateNewQuestion();

            checkButton.addEventListener('click', () => {
                if (gameState.isAnswered) {
                    generateNewQuestion();
                } else {
                    checkAnswer();
                }
            });

            skipButton.addEventListener('click', () => {
                if (!gameState.isAnswered) {
                    processAnswer(0);
                }
            });
        }

        function generateNewQuestion() {
            gameState.isAnswered = false;
            gameState.selectedAnswer = null;

            let chosenWord;
            const unmasteredWords = gameState.words.filter(w => !w.state.mastered);

            if (unmasteredWords.length === 0) {
                showGameComplete();
                return;
            }

            // If user got 3 wrong in a row, find an "easy" question
            if (gameState.consecutiveWrongAnswers >= 3) {
                const easyWords = unmasteredWords.filter(w => w.state.correctStreak > 0);
                if (easyWords.length > 0) {
                    easyWords.sort((a, b) => b.state.correctStreak - a.state.correctStreak);
                    chosenWord = easyWords[0];
                }
            }

            // If not in "easy question" mode, use weighted random selection
            if (!chosenWord) {
                const totalWeight = unmasteredWords.reduce((sum, word) => sum + word.state.score, 0);
                let randomWeight = Math.random() * totalWeight;
                for (const word of unmasteredWords) {
                    randomWeight -= word.state.score;
                    if (randomWeight <= 0) {
                        chosenWord = word;
                        break;
                    }
                }
            }
            
            // Fallback if weighted selection fails
            if (!chosenWord) {
                chosenWord = unmasteredWords[0];
            }

            gameState.currentQuestion = {
                word: chosenWord,
                correctAnswer: chosenWord.arti
            };

            displayQuestion();
        }

        function displayQuestion() {
            const { word } = gameState.currentQuestion;

            questionTextKanji.textContent = word.kanji || word.kana; // Fallback to kana if no kanji
            questionTextKana.textContent = word.kana;

            const distractors = gameState.words
                .map(w => w.arti)
                .filter(arti => arti && arti !== word.arti)
                .map(arti => ({
                    value: arti,
                    similarity: levenshteinDistance(word.arti, arti)
                }))
                .sort((a, b) => a.similarity - b.similarity)
                .slice(0, 3)
                .map(item => item.value);

            let choices = [word.arti, ...distractors];
            choices.sort(() => Math.random() - 0.5);

            choicesContainer.innerHTML = '';
            choices.forEach(choice => {
                const button = document.createElement('button');
                button.className = 'choice-btn w-full py-3 px-4 bg-white text-slate-700 font-semibold rounded-lg shadow ring-1 ring-slate-200 hover:bg-slate-50';
                button.textContent = choice;
                button.addEventListener('click', () => selectAnswer(button));
                choicesContainer.appendChild(button);
            });

            checkButton.textContent = 'Check Answer';
            checkButton.disabled = true;
            skipButton.disabled = false;
        }

        function selectAnswer(button) {
            if (gameState.isAnswered) return;
            const prevSelected = choicesContainer.querySelector('.selected');
            if (prevSelected) prevSelected.classList.remove('selected');
            button.classList.add('selected');
            gameState.selectedAnswer = button.textContent;
            checkButton.disabled = false;
        }

        function checkAnswer() {
            gameState.isAnswered = true;
            const { correctAnswer } = gameState.currentQuestion;
            const isCorrect = gameState.selectedAnswer === correctAnswer;
            const score = isCorrect ? 1 : -0.25;

            Array.from(choicesContainer.children).forEach(btn => {
                if (btn.textContent === correctAnswer) btn.classList.add('correct');
                else if (btn.classList.contains('selected')) btn.classList.add('incorrect');
                btn.disabled = true;
            });

            processAnswer(score);

            checkButton.textContent = 'Next Question';
            checkButton.disabled = false;
            skipButton.disabled = true;
        }

        function processAnswer(score) {
            const { word } = gameState.currentQuestion;
            const isCorrect = score > 0;
            gameState.questionsSinceEncouragement++;

            if (score !== 0) {
                gameState.totalScore += score;
                gameState.questionsAttempted++;
            }
            gameState.last100Scores.push(score);
            if (gameState.last100Scores.length > 100) {
                gameState.last100Scores.shift();
            }

            if (isCorrect) {
                gameState.consecutiveWrongAnswers = 0;
                word.state.correctStreak++;
                word.state.score = Math.max(1, word.state.score - 2);
                if (word.state.correctStreak >= 8) {
                    word.state.mastered = true;
                }
            } else if (score < 0) {
                gameState.consecutiveWrongAnswers++;
                word.state.correctStreak = 0;
                word.state.score += 5;
            }

            // --- Encouragement Logic ---
            if (gameState.consecutiveWrongAnswers === 3) {
                const message = tryAgainMessages[Math.floor(Math.random() * tryAgainMessages.length)];
                showEncouragement(message);
            } else if (gameState.questionsSinceEncouragement >= gameState.nextEncouragementInterval) {
                showEncouragement();
            }

            updateStats();
            saveState();

            if (score === 0) {
                generateNewQuestion();
            }
        }

        function showEncouragement(message = null) {
            const randomMessage = encouragementMessages[Math.floor(Math.random() * encouragementMessages.length)];
            encouragementText.textContent = message || randomMessage;
            encouragementPopup.classList.remove('hidden');

            // Reset counters for random encouragement
            gameState.questionsSinceEncouragement = 0;
            gameState.nextEncouragementInterval = getRandomInterval(4, 9);

            setTimeout(() => {
                encouragementPopup.classList.add('hidden');
            }, 2500);
        }
        
        function getRandomInterval(min, max) {
            return Math.floor(Math.random() * (max - min + 1)) + min;
        }

        function showGameComplete() {
            questionTextKanji.parentElement.classList.add('hidden');
            choicesContainer.classList.add('hidden');
            document.getElementById('action-buttons').classList.add('hidden');
            gameCompleteDiv.classList.remove('hidden');
        }

        function updateStats() {
            const overallPercentage = gameState.questionsAttempted > 0 
                ? ((gameState.totalScore / gameState.questionsAttempted) * 100).toFixed(0) 
                : 0;
            document.getElementById('overall-score').textContent = `${overallPercentage}%`;
            
            const last100Total = gameState.last100Scores.reduce((sum, s) => sum + s, 0);
            document.getElementById('last100-score').textContent = last100Total.toFixed(2);
            
            const masteredCount = gameState.words.filter(w => w.state.mastered).length;
            document.getElementById('mastered-score').textContent = `${masteredCount}/${gameState.words.length}`;
        }

        function saveState() {
            localStorage.setItem('japaneseGameStateN3_SRS_v2', JSON.stringify(gameState));
        }

        function loadState() {
            const savedState = localStorage.getItem('japaneseGameStateN3_SRS_v2');
            if (savedState) {
                const parsedState = JSON.parse(savedState);
                if (parsedState.words && parsedState.words.length === initialVocabularyData.length) {
                    gameState = parsedState;
                    return;
                }
            }
            gameState.words = initialVocabularyData.map((word, index) => ({
                ...word,
                id: index,
                state: { correctStreak: 0, score: 10, mastered: false }
            }));
        }

        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
